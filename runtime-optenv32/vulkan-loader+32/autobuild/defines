PKGNAME=vulkan-loader+32
PKGSEC=libs
PKGDEP="libxkbcommon+32 mesa+32 x11-lib+32"
# FIXME: vulkan-headers is used to provide the CMake modules needed during the
# CMake configuration process.
BUILDDEP="devel-base+32 libxcb+32 lxml vulkan-headers vulkan-headers+32"
PKGDES="Vulkan Installable Client Driver (ICD) Loader (32-bit x86 runtime)"

CMAKE_AFTER="-DBUILD_LOADER=ON \
             -DBUILD_WSI_XCB_SUPPORT=ON \
             -DBUILD_WSI_XLIB_SUPPORT=ON \
             -DBUILD_WSI_WAYLAND_SUPPORT=ON \
             -DBUILD_WSI_DIRECTFB_SUPPORT=OFF \
             -DVulkanRegistry_DIR=/usr/share"

PKGBREAK="vulkan+32<=1.1.70.1-3"
PKGREP="vulkan+32<=1.1.70.1-3"

NOLTO=1
ABHOST=optenv32
